title: "《HTTP权威指南》随笔1"
date: 2016-01-06 19:27:53
description: "读《HTTP权威指南 -- 第1章 HTTP概述》主要有MIME"
tags:
- "HTTP"
---


## 媒体类型

因特网上有数千种不同的类型数据,HTTP会给每种要通过Web传输的对象都打上名为`MIME类型(MIME type)`的数据标签格式.
最初设计MIME(Multipurpose Internet Mail Extension, 多用途因特网邮件扩展)是为了解决不同的电子邮件系统之间`搬移报文`是存在的问题.后来HTTP也采纳用来`描述并标记多媒体内容`.

MIME类型是一种文本标记,表示`一种主要的对象类型`和`一个特定的子类型`.中间由`一条斜杠`来分割.

```js
HTML格式文本: text/html
普通的ASCII文本文档: text/plain
JPEG版本图片: image/jpeg
GIFg格式图片: image/gif
Apple的QuickTime电影: video/quicktime
微软PowerPoint文件: application/vnd.ms-powerpoint
```

大多数浏览器都可以处理数百种常见的对象类型.
HTTP客户端和HTTP服务器共同构成了万维网的基本组件.`Web浏览器`是最常见的`HTTP客户端`

### URL

统一资源定位符是资源标识符最常见的形式.描述了一台特定服务器上某个资源的特定位置.
URL都遵循一种标准格式,包括三部分:
1. 方案:访问资源所使用的协议类型,通常是HTTP协议
2. 服务器的因特网地址
3. 其余部分指定了Web服务器上的某个资源

### 方法

HTTP支持不同的请求方法, 每条HTTP请求报文都包含一个方法.这个方法告诉服务器要执行什么动作.
常见的五中HTTP方法:

1. GET: 从服务器向客服端发送命名资源
2. PUT: 就来自客服务的数据存储到一个命名的服务器资源中
3. DELETE: 从服务器中删除命名资源
4. POST: 将客户端数据发送到一个服务器网关应用程序.
5. HEAD: 仅发送命名资源响应中的HTTP首部.

常见的HTTP状态码:

200: 文档正常返回
302: Redirect(重定向),到其他地方去获取资源
404: Not Found. 无法找到资源

### HTTP报文

包括三部分:
1. 起始行: 报文的第一行.在请求报文中说明要做什么(GET,POST,DELETE),在响应报文中说明出现什么情况(HTTP/1.0 200 OK),
2. 首部字段: 起始行后面有零个或多个首部.每个首部都包含一个名字和一个值,用冒号(:)分开.`首部以一个空行结束`
3. 主体: 空行之后就是可选的报文主体了.其中包含了所有类型的数据.


## 连接

### TCP/IP

`HTTP是应用层协议`. 无须担心网络通信的具体细节.把这些细节都交给了通用,可靠的因特网`传输协议TCP/IP`.
TCP提供了:
`1. 无差错的数据传输`
`2. 按序传输(数据总是会按照发送的顺序到达)`
`3. 未分段的数据流(可以在任意时刻以任意尺寸将数据发送出去)`

- HTTP 网络协议栈

------------HTTP: 应用层
-------------TCP: 传输层
--------------IP: 网络层
网络特有的链路接口层: 数据链路层
------物理网络硬件: 物理层

- 一次基本请求

a: 浏览器从URL中解析出服务器的主机名
b: 浏览器将服务器主机名通过DNS服务器转化成服务器的IP地址
c: 浏览器将端口从URL中解析出来
d: 浏览器建立一条与Web服务器的TCP连接
e: 浏览器向服务器发送一条HTTP请求报文
f: 服务器向浏览器回送一条HTTP响应报文
e: 关闭连接,浏览器现实文档.

## Web结构组件

1. 代理: 位于客户端和服务器之间的HTTP中间体(会对请求经行修改转发)
2. Web缓存或代理缓存: HTTP仓库,使常用页面的副本可以保存在离客户端更近的地方.
3. 网关: 连接其他应用程序的特殊Web服务器.(将HTTP流量转化成其他协议)
4. 隧道: 对HTTP通信报文进行盲转发的特殊代理
5. Agent代理: 发起自动HTTP请求的半智能Web客户端
